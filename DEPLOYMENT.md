# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é Pudge Wars

## –ë—ã—Å—Ç—Ä—ã–π –°—Ç–∞—Ä—Ç

### 1. –õ–æ–∫–∞–ª—å–Ω–∞—è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
npm start

# –ö–ª–∏–µ–Ω—Ç: –æ—Ç–∫—Ä–æ–π—Ç–µ client/index.html –≤ –±—Ä–∞—É–∑–µ—Ä–µ
# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä:
python -m http.server 8080 --directory client
```

### 2. –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Render

#### –í–∞—Ä–∏–∞–Ω—Ç –ê: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub —Å —ç—Ç–∏–º –∫–æ–¥–æ–º
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [Render.com](https://render.com)
3. –ù–∞–∂–º–∏—Ç–µ "New +" ‚Üí "Web Service"
4. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
5. Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç `render.yaml` –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

#### –í–∞—Ä–∏–∞–Ω—Ç –ë: –†—É—á–Ω–æ–µ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

1. –°–æ–∑–¥–∞–π—Ç–µ Web Service –Ω–∞ Render
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - **Name**: pudge-wars
   - **Environment**: Node
   - **Build Command**: `npm install`
   - **Start Command**: `npm start`
   - **Plan**: Free

3. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   - `NODE_VERSION`: `22.22.0`
   - `PORT`: `3000`

#### –í–∞—Ä–∏–∞–Ω—Ç –í: –ß–µ—Ä–µ–∑ Render CLI

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Render CLI
npm install -g @render-cloud/cli

# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
render login

# –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ
render up
```

### 3. –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö

#### Heroku

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Heroku CLI
npm install -g heroku

# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
heroku login

# –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
heroku create pudge-wars

# –î–µ–ø–ª–æ–π
git push heroku main

# –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
heroku open
```

#### Railway

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Railway CLI
npm install -g @railway/cli

# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
railway login

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
railway init

# –î–µ–ø–ª–æ–π
railway up
```

#### VPS (Ubuntu/Debian)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js
curl -fsSL https://deb.nodesource.com/setup_22.x | sudo -E bash -
sudo apt-get install -y nodejs

# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <your-repo-url>
cd Pudge_Wars

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PM2
npm install -g pm2

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
pm2 start server/src/index.js --name pudge-wars

# –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
pm2 startup
pm2 save

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
sudo apt install nginx
sudo nano /etc/nginx/sites-available/pudge-wars
```

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx:
```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }

    location /client {
        alias /path/to/Pudge_Wars/client;
        try_files $uri $uri/ /client/index.html;
    }
}
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|--------------|
| `PORT` | –ü–æ—Ä—Ç WebSocket —Å–µ—Ä–≤–µ—Ä–∞ | `3000` |
| `HOST` | –•–æ—Å—Ç –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è | `0.0.0.0` |
| `NODE_ENV` | –°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è | `development` |

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã (server/config.js)

```javascript
{
  PORT: 3000,
  GAME: {
    TICK_RATE: 60,           // –û–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ —Å–µ–∫—É–Ω–¥—É
    ARENA_WIDTH: 1200,       // –®–∏—Ä–∏–Ω–∞ –∞—Ä–µ–Ω—ã
    ARENA_HEIGHT: 800,       // –í—ã—Å–æ—Ç–∞ –∞—Ä–µ–Ω—ã
    PLAYER_SPEED: 200,       // –°–∫–æ—Ä–æ—Å—Ç—å –∏–≥—Ä–æ–∫–∞
    PLAYER_MAX_HP: 100,      // –ó–¥–æ—Ä–æ–≤—å–µ
    RESPAWN_TIME: 3000,      // –í—Ä–µ–º—è –≤–æ–∑—Ä–æ–∂–¥–µ–Ω–∏—è (–º—Å)
  },
  HOOK: {
    SPEED: 600,              // –°–∫–æ—Ä–æ—Å—Ç—å —Ö—É–∫–∞
    RANGE: 500,              // –î–∞–ª—å–Ω–æ—Å—Ç—å
    COOLDOWN: 2000,          // –ü–µ—Ä–µ–∑–∞—Ä—è–¥–∫–∞ (–º—Å)
    DAMAGE: 25,              // –£—Ä–æ–Ω
  },
  ROOM: {
    MAX_PLAYERS: 10,         // –ú–∞–∫—Å–∏–º—É–º –∏–≥—Ä–æ–∫–æ–≤
    MIN_PLAYERS: 2,          // –ú–∏–Ω–∏–º—É–º –¥–ª—è —Å—Ç–∞—Ä—Ç–∞
  },
}
```

## üåê –î–æ—Å—Ç—É–ø –∫ –∏–≥—Ä–µ

–ü–æ—Å–ª–µ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è:

1. **–°–µ—Ä–≤–µ—Ä**: `wss://your-domain.com` (–∏–ª–∏ `ws://` –¥–ª—è HTTP)
2. **–ö–ª–∏–µ–Ω—Ç**: –û—Ç–∫—Ä–æ–π—Ç–µ `https://your-domain.com/client/index.html`

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–≤—Ç–æ-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ URL –≤ –∫–ª–∏–µ–Ω—Ç–µ.

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏

```bash
# Render
render logs -s pudge-wars

# Heroku
heroku logs --tail

# PM2 (VPS)
pm2 logs pudge-wars
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

–°–µ—Ä–≤–µ—Ä –≤—ã–≤–æ–¥–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ –∫–æ–Ω—Å–æ–ª—å:
```
==================================================
üéÆ Pudge Wars Server
==================================================
üì° Server running on ws://0.0.0.0:3000
üéØ Tick rate: 60 Hz
üë• Max players per room: 10
==================================================
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Production Checklist

- [ ] –í–∫–ª—é—á–∏—Ç–µ HTTPS/WSS
- [ ] –ù–∞—Å—Ç—Ä–æ–π—Ç–µ CORS
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ rate limiting
- [ ] –í–∫–ª—é—á–∏—Ç–µ firewall
- [ ] –ù–∞—Å—Ç—Ä–æ–π—Ç–µ backup
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firewall (UFW)

```bash
sudo ufw allow 22/tcp    # SSH
sudo ufw allow 80/tcp    # HTTP
sudo ufw allow 443/tcp   # HTTPS
sudo ufw enable
```

## üêõ Troubleshooting

### –û—à–∏–±–∫–∞: "Cannot find module"

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç–∏ –∏–º–ø–æ—Ä—Ç–æ–≤. –í—Å–µ –ø—É—Ç–∏ –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `path.join(__dirname, ...)`.

### –û—à–∏–±–∫–∞: "Port already in use"

```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É
lsof -i :3000

# –£–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
kill -9 <PID>
```

### –ö–ª–∏–µ–Ω—Ç –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª (ws:// –∏–ª–∏ wss://)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –í—ã—Å–æ–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞

1. –£–º–µ–Ω—å—à–∏—Ç–µ `TICK_RATE` –≤ config.js
2. –í–∫–ª—é—á–∏—Ç–µ delta compression
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ CDN –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏
4. –†–∞–∑–º–µ—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –±–ª–∏–∂–µ –∫ –∏–≥—Ä–æ–∫–∞–º

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ

- –£–≤–µ–ª–∏—á—å—Ç–µ –ø–ª–∞–Ω –Ω–∞ Render/Heroku
- –î–æ–±–∞–≤—å—Ç–µ –±–æ–ª—å—à–µ RAM/CPU

### –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Redis –¥–ª—è –º–µ–∂—Å–µ—Ä–≤–µ—Ä–Ω–æ–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ load balancer
3. –®–∞—Ä–¥–∏—Ä—É–π—Ç–µ –∫–æ–º–Ω–∞—Ç—ã –ø–æ —Å–µ—Ä–≤–µ—Ä–∞–º

```yaml
# render.yaml –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤
services:
  - type: web
    name: pudge-wars-1
    env: node
    plan: standard
    ...
  - type: web
    name: pudge-wars-2
    env: node
    plan: standard
    ...
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- GitHub Issues: [your-repo]/issues
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: /docs/
- API Reference: /docs/API.md
